---
title: "[C] FILE"
catalog: true
toc_nav_num: true
date: 2019-02-20 10:11:30
subtitle: "在C语言中如何简单的操作文件"
header-img: "https://raw.githubusercontent.com/zColdWater/Resources/master/Images/nature.jpg"
tags:
- C
catagories:
- C
---

文件流
=======

> 如果你想操作一个文件流，你需要使用下面函数。

open() 函数用来打开一个文件，它的原型为：
```C
/// filename为文件名（包括文件路径)
/// mode为打开方式
函数原型：FILE * fopen(const char * path,const char * mode);
```
会获取文件信息，包括文件名、文件状态、当前读写位置等，并将这些信息保存到一个`FILE`类型的结构体变量中，然后将该变量的地址返回。


Mode模式的种类:   
| 打开方式	     | 说明           |
| ------------- |:-------------:|
| r      | 以只读方式打开文件，只允许读取，不允许写入。该文件必须存在。 |
| r+      | 以读/写方式打开文件，允许读取和写入。该文件必须存在。      |
| rb+ | 以读/写方式打开一个二进制文件，允许读/写数据。      | 
| rt+      | 以读/写方式打开一个文本文件，允许读和写。 |
| w      | 以只写方式打开文件，若文件存在则长度清为0，即该文件内容消失，若不存在则创建该文件。      |
| w+ | 以读/写方式打开文件，若文件存在则文件长度清为零，即该文件内容会消失。若文件不存在则建立该文件。      | 
| a      | 以追加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留（EOF符保留)。 |
| a+      | 以追加方式打开可读/写的文件。若文件不存在，则会建立该文件，如果文件存在，则写入的数据会被加到文件尾后，即文件原先的内容会被保留（原来的EOF符 不保留)。      |
| wb | 以只写方式打开或新建一个二进制文件，只允许写数据。      | 
| wb+      | 以读/写方式打开或建立一个二进制文件，允许读和写。 |
| wt+      | 以读/写方式打开或建立一个文本文件，允许读写。      |
| at+ | 以读/写方式打开一个文本文件，允许读或在文本末追加数据。      | 
| ab+      | 以读/写方式打开一个二进制文件，允许读或在文件末追加数据。 |

例子:

```C
表示以“只读”方式打开当前目录下的 demo.txt 文件，并使 fp 指向该文件，这样就可以通过 fp 来操作 demo.txt 了。fp 通常被称为文件指针。

FILE *fp = fopen("demo.txt", "r");


表示以二进制方式打开 D 盘下的 demo.txt 文件，允许读和写。
FILE *fp = fopen("D:\\demo.txt","rb");

```




操作文件
=======

代码
=======





